Hi, everyone. Welcome to another healthy demo. Today, we'll be showing you how to put interactive GT tables into a quarto dashboard. We've done a few sessions on quarto before. We will recap one or two things about quarto. But if you haven't used quarto before and you missed the quarto live demos, they are available on our website. Two quarter demos even. GT is a package for making tables. GT stands for grammar of tables. The syntax looks a little bit similar to ggplot, which is the grammar of graphics. This is the grammar of tables, In this demo, we're only going to do an interactive table. An interactive table means that it only works in an HTML document, it could be shared as a website or it could be viewed online. GT is also very good with PDFs and word documents, but this is not covered in this demo. Stella has opened up the posit Cloud demo that I've set up. We be going back to a dataset we used, I think maybe even two years ago, the Eurovision dataset. Stella, could you please just run the first code chunk that I've set up there. We can close all of those warnings and messages. Click on the dataset please. We'll have a quick look and remind ourselves what we're working with. The original the dataset comes with 20 something columns, I've already picked out the four columns we'll be working with today just to make that example tidy. We have a year, a country and I've filtered it for just the final dataset actually comes with semi final results as well, and there's a rank. Do you want to click on the word rank, just to sort it, and we can see that the winner column, which technically is is not necessary because it just shows you whether rank is one, but we have now convinced that of the data that seems to work. If you click on rank again, We can see that no one like whose rank isn't one isn't the winner. Make sense. Please go back to the GT document. Next, could you remove the winner in the select statement. Just take winner out because, like I said, it is covered in rank. Thank you. Could you know please render the document because it is a GT document we're working in Let's have a look at the GT output. And scroll down. Yeah, this is reading. Normally when you're making a dashboard, you definitely don't want the package start up messages, showing up on a dashboard and you usually want to hide code as well. I've now been using quarto for over a year at, I still can't remember how to do this. I always Google quarto Stella, could you please open a new tab and Google quarto output options. Yeah, execution options. That's perfect. Yeah. Copy the echo false on the two lines between the title and Jupyter. Echo means show R code so Echo is going to take that away and go back to the execution options file now, and we also want to hide the warnings and messages. Look at the table, scroll down just a little bit. Warning. I think we also want to do warning falls? If you now go back to the quarter document and, exactly warning, semicolon false. Now render the document again. You can press you can press the render button, or you can do control shift, K. K used to stand stands for knit, but it's the same shortcut for rendering. Can you open the Is that. Perfect. That's work. You can see it's hit all the code and it's hit all the warnings and messages, and there's nothing else because we haven't put in a table yet. Let's put in a GT table. I would do a new. Do a new code chunk, please. You can insert it with that button exactly and uro vision piped into. T. That's it. Render. What was the shortcut again? Command K. Yeah. Can use it. We have a GT table. Now this is not much different to a cable. A cable function is what we maybe used previously. However, GT has several benefits. Namely, it's very easy to make it interactive. Now go back. At the end of GT, do another pipe. The slight difference between, I said gt is similar to ggplot, which is grammar of graphics. After you start the ggplot, you have to use the plus to add things on. Because gt is a much newer package. ggplot was made before the pipe existed in R, but because gt is a newer package, it uses the pipe instead of the plus. Stella, can you please now type in Opt - OPT underscore, interactive. Yeah, that's perfect. Render again. Let's see what that does. You can see it now put it into an HTML table where you can instead of just printing all 900 rows, by default, it gives you ten row pages. It also has a sorting ability. If you now clicked on year or country or rank, it would get alphabetically or numerically. You've already got a slightly interactive table in a dashboard, a very basic dashboard, with no other elements. Let's now make this table a lot more exciting. To do that, can you save the document? I assume that the error there -  what that error coming? What does it say when you click on that? No, no, nothing. I look. Just a space. Funny. Can you move your cursor on to options Interactive, please? And try and figure out how to do F one function F one. That's different in the keyboard. Perfect. That it. What happens when you manage to push F one or function one or something like that in code the Help tab comes up. The Option interactive function has a lot of useful arguments. Could you just keep scrolling down, please? Yeah, I actually usage. What I do is I copy everything. I leave the data in active out because I always keep it active. Copy everything from use page nation to page type, and put them inside your opt interactive. And perfect. Thanks for that indentation. I render the document again. I think this has this hasn't changed any of the default. Now that we know what the arguments are called and we copied them in with the default values, we can start changing them. For example, we are using page nation. However, page size default, I usually make it more than ten, so for example, change that to 20. Sorting sorting means when you click on the column, it orders it alphabetically on numerically, that's switched on by default. However, search and filters are both useful. I almost, switch on search and filters, please. Yeah. Now render. Let's see what we've done. Very efficient. You kept the E from false, so you only had to write in TRU. Gotta make those small savings. Add up. We changed a few things. We made the page made it to display 20. Obviously, you can make it whatever you want. Search bar at the top, sees from all columns. If you type in front, We only have France in a single column, but if it was a word that you were searching for that appeared in multiple or maybe delete France and search for number four, we can see that it searches from all columns. Filter means that it's searching from a spic delete the four now, so we can get rid of that. Filter means that you can search for a specific column. If you want to see ranks four on or year 2004 only or something like that. That's basically made your Table more interactive. Other two  options that I sometimes use if you jump back to option is both following to the resizes and highlights. So I switch both of those on as well. In. If you now hover over your table, you can see that it highlights the row you're looking a small things also the resize means that you can manually resize column width now. It doesn't make sense in this example because they're very small, but if you have columns with longer text and stuff, you could expand them. That's what we've done here. This is how I do the exciting part is still coming. This is the basic setup of an interactive TT table is that could use sell, please just highlight what we've done. We pipe the dataset, which in this case is urovision. H. To the TT function, which gives you a static table. Then we pipe it into opt interactive, which either have to remember that's called opt interactive or you can Google interactive TT table. Then once I have opt interactive, I jump into the Help tab to copy in these extra arguments that are convenient to be changed. Most of I'll admit that haven't used every single one, but they are quite self explanatory, but there's also further explanations in the Help tab, if you wanted to. Know what's going on. But the exciting is colours and emerges, just like let's really make the table pop. What we now want to do is indicate whether someone is a winner with an emerge. We're going to add a new column. Where you do Eurovision pipe into GT, between that, add a mutate, please. Mutate winner equals if_else(rank == 1,  Now do emoji() Yeah bracket. Quote quote. And my mind just went blank. What is the check mark? Just try tick. Let's write that. The next after this is true. If rank is one, you get a takt and now go to the side and do emoji cross. If those don't work, we'll keep thinking about it. Pipe that in there and just red. Couldn't find the mood tech. Modes are a bit of a pain to work with because they come in so many different tables. I can never remember which database includes them with which names. But to figure out what the modes are available to us. Go to add a new line before the eurovision in that same chunk. Type in emoji list. Equals. The second thing in that list, select the second thing. Delete the bracket to surround that line alone. Now click on that list. These are the 4,700 differents we have to choose from. If you put tick into the search, see what we have. The green tick mark is what I was looking for. Try correct, type in correct. What's it called? Typing green? I do have a note of this, but I wanted to show you my workings and I have honestly forgotten what I what it was called. Check Check. Yeah, maybe it's check. Yes, check mark button. If you now scroll to the right where it says keywords. Keywords. We have to We have to use any one of these keywords. Check was the one that tech. If you could type in check instead of tech. Go. I'll show you how to when you render it, it can take a little while. So to test it let's look at the. Let's find that fine let's look at great, great. If you look for try and sort it based on winner, you can see that everyone has a one has a green check. The green check, I should really remember this because I usually use the green and red checks when I'm doing a study overview, has had site to collaborate a completed data entry check check check and I might have different checks based on different parts of data entry. I do that Is green check. Red cross quite a lot. That's why I wanted to show that in the Eurovision example. If you now jump back to the thinking. Because rendering it can take a little while, especially once you have multiple tables and plots and stuff, you can execute this interactively. If you just now do control dent or command just run it like that, you will see, why is that a church now? Cross, oh yeah, it is slightly random. Sometimes cross gets interpreted as. Go back to the emoji list and put in cross. This has happened to me before. We need to find the keyword that exists in the cross, but doesn't exist in any of the other cons in the columns. What is it? Maybe cancel. No, cross Mark button. No. I cancel a different one. Which one was it? No, yeah. Cancel is the third one. Yeah, and that's not in the church. I try that. Random like that. You can also make this. This is working pretty fast. But if you had a bigger table and I'm testing some basic functionality out, I would add in a. Can you pipe eurovision into a slice and do slice one colon ten. That way, we're only doing ten lines run that. Greats, but now it's giving us another random cross. How do we get the red cross? Jump back into the emojilist Can we figure out how to make it consistently give us a red cross? This one. I wonder if cross Mark will work or will it try cross Mark. Until the next time it changes. It's funny because I used the red cross a lot. I had seen the church thing, but anyway. I don't want to open my cheat of the results yet because I think it's good to show how I actually go about finding the right out of the right emoji out of the 4700. As you said, now that I put in the slice, it just takes the first ten rows of the data. In this case, the example is fast anyway. Sarah, Yeah, that's a good question. Does it always look in the keyword column or could you type in the full name? Could you try, try the full name. Where's the full name? The full names you need? Name cross Mark. Let's try Cross Mark. Yeah, I think it is the keyboard. I wonder if there's a different function in the same package. Away, let's move on. Let's move on. We got it to work. I know we've gone working, if a. The final thing I want to show you. I was just saying this example is quite quick, but the reason I wanted to reduce it to ten lines just for a while we're building the final example of colouring in certain cells is that that can be at just a tiny bit lower. Now we're ready, we have a fast thing to add in. What we're now going to add in is data colour. Where it says, sell, please pipe that into data underscore colour. Yeah. Some of you may have realised that ggplot accepts both British and American spelling because the author of ggplot Hadley Wickham is from New Zealand. However, GT only accepts American spelling. But used the auto completely cut the right thing, but I tend to write the colour with the U and then again any way. Run that, see what happens. Just execute that. Ugly looking thing. You don't ever want to colour the whole table. Do you I don't even understand why that row is black and stuff. Inside data colour, adding an argument that says column equals rank. Let's only colour the rank column. Yeah like that. I think it cool. Similarly, firstly, we can give it a better palette. If you just type in palette, equals varieties with an I need be the name of the palette needs to be quoted. Try that. Try ordering by rank so we can see how the colours, click on that. We can also add in reverse equal if you want it the other way around. Mm hm. I think it looks the same because I had just ordered it by that. No, no, I was loading. That's what I mean once we get into colouring every single row, the example will start rendering much lower than any of the previous things we're doing. If you now order by rank, you can see that the yellow ones have gone to the top ranks and that's the reverse equals true. However, even I find that I don't normally colour every single cell. I tend to colour outliers or special node. Let's now colour the win top three instead. How to colour the top three is off the column, adding a new line that says row row equals, rank is greater, sorry rank smaller than less than four. Comma. Let's try that. Yeah. We might need to expand our example. Could you do the add 20 rows into the slice. Hopefully, we'll get more values in there and by rank. Now we call it two and three. Now the palette no longer makes sense. Let's change it to gold silver and bronze. Yeah and do I combine function. C. You can see that RS automatically recognise cold silver and bronze. You can see that it doesn't recognise bronze. The way to tackle that is Google Bronze Hex code. Yeah, exactly. Now copy that take including the hash. A Hex code as a universal way to indicate a colour and you can see Rs already recognise that hex code. Same for silver, please Google silver Hex code. Hey, run that. Because we don't have any number one. I set I think it sets the scale 2-3, and also we need to take out the slice now at least we have working code and I'm confident that we will get three numbers we'll run it like that. Good. Click on rank. Obviously, Bronze is number one, no, we need to take out the reverse. Thanks and Mary. The reverse made sense for the previous palette we were using. Yeah, great. And you now maybe render the whole, the checks are no longer blue green, they're black. Check marks, honestly. Render the whole document, let's see what we have. Yeah, rank. You can see that our golden bars match up with green checks. Yes. That's everything I wanted to show. Does anyone have any questions or suggestions for edits Stella can try and live code? Obviously, this is just an example, but I would normally do row. I would indicate outliers, or you can also do missing values. You could do is na, indicate missing values or something like that. Finally, while you're all thinking about your questions, gt is extremely flexible. You can change the font. You can change the data colour change the highlighting like the cell colour, but you could keep the cell white and change make the number red or name red. You can colour one column based on another column. It doesn't have to be one value, you can colour one column based on its multiple surrounding columns. Yeah. Lots of things. Does anyone have any questions suggestions? Who here has used GT before? Anyone has anyone used GT before? No. Can I ask a quick question. You've been able to filter by rows, if you want all the ones to come up or if you were looking for just the year 2004. But if you had 30 columns, is there a way that you could I know you don't in this example, but could you filter just a column you're looking for, what does it look like when there's too many columns to fit the page? I guesses. Good question. You can't filter for select columns. But St, let's try this. Could you go up and remove the select statement? You know where we read in the dataset, just comment that out and the pipe as we. Perfect. Run that. Now render the whole document again and we'll get we'll see what happens when we have 18 columns. What did it happen? Does it just display like the - oh! You can scroll right. That's pretty cool, isn't it? Yeah. No, I don't think you can select columns like that, but it does look quite clever, you don't have to worry about. In this example, the resizing of the columns might be useful as well so you can make the URL, like that. That's good. Can you freeze if you have loads of rows, but you want to see what the column name was. Is there a way that you can freeze it? I don't know let's google that. That's a good question. GT table Interactive. Do you have freeze header or I think this is how it looks like. What about the first question? I know it sounded slightly different, but it also might not. This isn't the exact same question either. No easily you don't have any other questions. In that case, I'm going to finish the demo. Thanks very much for coming. After we do a demo, there's also the clinic part, anyone can ask any question about anything, not related to what we've just shown, but we don't recall that. The next demo, I believe is 3 weeks time. It's directed acyclic graphs.